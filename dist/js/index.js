!function(e){function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}var t={};__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="./",__webpack_require__(__webpack_require__.s=2)}([function(e,t,r){"use strict";function checkWin(){for(var e=getCR(f),t=e[0],r=e[1],n=getMineSize(f),i=0,c=0;c<t;c++)for(var o=0;o<r;o++){var a=c+"_"+o;x[a]||i++}return i===n}function checkMarked(){var e=getMineSize(f),t=0;for(var r in M){if(M[r]!==c[r])return t--,!1;t++}return t===e}function setTip(e,t){v.className=e?"show":"",t&&(v.innerHTML=t),e&&(clearTimeout(b),b=setTimeout(start,2e3))}function getColRowByEvent(e){var t=u+l,r=_+l,n=e.offsetX,c=e.offsetY,o=Math.floor(n/t),a=Math.floor(c/r);return[o,a,i[o+"_"+a]]}function start(){clearObj(M,x,i,c),setTip(!1);var e=getCR(f),t=e[0],r=e[1];u=_=50;var n=t*(u+l),a=r*(_+l);n>h-2*g&&(n=h-2*g,u=Math.floor(n/t)-l),a>m-2*g&&(a=m-2*g,_=Math.floor(a/r)-l),p.width=n,p.height=a,k.clearRect(0,0,n,a),k.fillStyle="#6DBFFF",k.font="20px Arial",(u<20||_<20)&&(k.font="14px Arial"),k.fillStyle="#6DBFFF",o=1,mines(t,r);for(var s=0;s<t;s++)for(var v=0;v<r;v++)setFill(s,v);for(var s=0;s<t;s++)for(var v=0;v<r;v++){var d=getNum(s,v);i[s+"_"+v]=d}}function checkClick(e,t,r){var n=i[e+"_"+t];if(setFill(e,t,"#ccc"),setText(e,t,n),!(n>0||void 0==n)){checkTask([[e-1,t],[e+1,t],[e-1,t-1],[e,t-1],[e+1,t-1],[e-1,t+1],[e,t+1],[e+1,t+1]],r)}}function checkTask(e,t){for(var r=e.length;r--;){var n=e[r];M[n[0]+"_"+n[1]]||checkClickRound(n[0],n[1],t)}}function checkClickRound(e,t,r){var n=e+"_"+t,c=i[e+"_"+t];if(!r[n]&&(r[n]=!0,void 0!=c&&(delay_time(function(){setFill(e,t,"#ccc"),setText(e,t,c)}),x[n]=!0,0==c))){checkTask([[e-1,t],[e+1,t],[e,t-1],[e,t+1]],r)}}function setFill(e,t,r){var n=e*(u+l),i=t*(_+l);r&&(k.fillStyle=r),k.fillRect(n,i,u,_)}function setText(e,t,r){k.fillStyle="#000";var n=e*(u+l),i=t*(_+l);k.fillText(r,n+u/2-k.measureText(r).width/2,i+_-_/2+5)}function getMineSize(e){return a[e]?a[e].value:10}function getNum(e,t){if(c[e+"_"+t])return"B";for(var r=t-1,n=t+1,i=e-1,o=e+1,a=[i+"_"+r,i+"_"+t,i+"_"+n,e+"_"+r,e+"_"+t,e+"_"+n,o+"_"+r,o+"_"+t,o+"_"+n],l=0,u=a.length;u--;)c[a[u]]&&(l+=1);return l}function getCR(e){var t=a[e].type,r=t.match(s);return[+r[0],+r[1]]}function mines(e,t){setMine(e,t,getMineSize(f))}function setMine(e,t,r){for(;r--;){var n=random(e),i=random(t),o=n+"_"+i;if(c[o]){setMine(e,t,r+1);break}c[o]=!0}}function random(){var e=0,t=arguments[0];return 2==arguments.length&&(e=arguments[0],t=arguments[1]),Math.floor(e+Math.random()*t)}function delay_time(e){if(0===T)return T=w,void e();T+=w,y=setTimeout(function(){clearTimeout(y),e()},T+w)}function clearObj(){for(var e=Array.prototype.slice.call(arguments,0),t=e.length;t--;)for(var r in e[t])delete e[t][r]}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=(r.n(n),{}),c={},o=1,a=[{type:"9_9",value:10},{type:"16_16",value:40},{type:"16_30",value:99}];const l=10;var u=50,_=50,f=0;const s=/\d{1,2}/g;var v=document.querySelector("#tip"),d=document.querySelector("#tool");const p=document.querySelector("#view"),k=p.getContext("2d"),h=window.innerWidth,m=window.innerHeight,g=20;Math.min(h,m);p.style.cssText="margin: "+g+"px";const w=60;var y,b,T=0;const x={},M={};start(),d.addEventListener("click",function(e){var t=e.target;t.className="sel";var r=t.getAttribute("key");d.querySelectorAll("li").forEach(function(e){e!=t&&(e.className="")}),f=r,start()}),p.addEventListener("contextmenu",function(e){e.preventDefault();var t=getColRowByEvent(e),r=t[0],n=t[1],i=(t[2],r+"_"+n);x[i]||(setFill(r,n,"#f00"),M[i]=!0,checkMarked()&&setTip(!0,"胜利！"))}),p.addEventListener("dblclick",function(e){var t=getColRowByEvent(e),r=t[0],n=t[1],i=(t[2],r+"_"+n);M[i]&&(delete M[i],setFill(r,n,"#6DBFFF"))}),p.addEventListener("click",function(e){if(1==o){var t=getColRowByEvent(e),r=t[0],n=t[1],i=t[2],c=r+"_"+n;if(!M[c]){if(setFill(r,n,"#ccc"),setText(r,n,i),x[c]=!0,"B"==i)return o=0,setFill(r,n,"#f00"),setText(r,n,"B"),void setTip(!0);var a={};checkClick(r,n,a),a=null,T=0,checkWin()&&setTip(!0,"胜利！")}}})},function(e,t){},function(e,t,r){e.exports=r(0)}]);